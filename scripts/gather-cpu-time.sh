#!/bin/bash

who >> $1
./openmp-run.sh 256 Y N 100 1 >> "$1-cpu-256.timing"
./openmp-run.sh 512 Y N 100 1 >> "$1-cpu-512.timing"
./openmp-run.sh 1024 Y N 100 1 >> "$1-cpu-1024.timing"
./openmp-run.sh 2048 Y N 100 1 >> "$1-cpu-2048.timing"
./openmp-run.sh 4096 Y N 100 1 >> "$1-cpu-4096.timing"
./openmp-run.sh 8192 Y N 100 1 >> "$1-cpu-8192.timing"
./openmp-run.sh 16384 Y N 100 1 >> "$1-cpu-16384.timing"
./openmp-run.sh 32768 Y N 100 1 >> "$1-cpu-32768.timing"
./openmp-run.sh 65536 Y N 100 1 >> "$1-cpu-65536.timing"
./openmp-run.sh 131072 Y N 100 1 >> "$1-cpu-131072.timing"

./openmp-run.sh 256 Y N 100 2 >> "$1-cpu2-256.timing"
./openmp-run.sh 512 Y N 100 2 >> "$1-cpu2-512.timing"
./openmp-run.sh 1024 Y N 100 2 >> "$1-cpu2-1024.timing"
./openmp-run.sh 2048 Y N 100 2 >> "$1-cpu2-2048.timing"
./openmp-run.sh 4096 Y N 100 2 >> "$1-cpu2-4096.timing"
./openmp-run.sh 8192 Y N 100 2 >> "$1-cpu2-8192.timing"
./openmp-run.sh 16384 Y N 100 2 >> "$1-cpu2-16384.timing"
./openmp-run.sh 32768 Y N 100 2 >> "$1-cpu2-32768.timing"
./openmp-run.sh 65536 Y N 100 2 >> "$1-cpu2-65536.timing"
./openmp-run.sh 131072 Y N 100 2 >> "$1-cpu2-131072.timing"

./openmp-run.sh 256 Y N 100 4 >> "$1-cpu4-256.timing"
./openmp-run.sh 512 Y N 100 4 >> "$1-cpu4-512.timing"
./openmp-run.sh 1024 Y N 100 4 >> "$1-cpu4-1024.timing"
./openmp-run.sh 2048 Y N 100 4 >> "$1-cpu4-2048.timing"
./openmp-run.sh 4096 Y N 100 4 >> "$1-cpu4-4096.timing"
./openmp-run.sh 8192 Y N 100 4 >> "$1-cpu4-8192.timing"
./openmp-run.sh 16384 Y N 100 4 >> "$1-cpu4-16384.timing"
./openmp-run.sh 32768 Y N 100 4 >> "$1-cpu4-32768.timing"
./openmp-run.sh 65536 Y N 100 4 >> "$1-cpu4-65536.timing"
./openmp-run.sh 131072 Y N 100 4 >> "$1-cpu4-131072.timing"

./openmp-run.sh 256 Y N 100 8 >> "$1-cpu8-256.timing"
./openmp-run.sh 512 Y N 100 8 >> "$1-cpu8-512.timing"
./openmp-run.sh 1024 Y N 100 8 >> "$1-cpu8-1024.timing"
./openmp-run.sh 2048 Y N 100 8 >> "$1-cpu8-2048.timing"
./openmp-run.sh 4096 Y N 100 8 >> "$1-cpu8-4096.timing"
./openmp-run.sh 8192 Y N 100 8 >> "$1-cpu8-8192.timing"
./openmp-run.sh 16384 Y N 100 8 >> "$1-cpu8-16384.timing"
./openmp-run.sh 32768 Y N 100 8 >> "$1-cpu8-32768.timing"
./openmp-run.sh 65536 Y N 100 8 >> "$1-cpu8-65536.timing"
./openmp-run.sh 131072 Y N 100 8 >> "$1-cpu8-131072.timing"
